export PROJECT=dev_qemu_glibc_labs
export PROJECT_ROOT=`pwd`/${PROJECT}

mkdir -p ${PROJECT_ROOT}/{bootloader/data,build-tools/src,build-tools/data,\
doc,images,kernel/data,project,rootfs,sysapps,tmp,tools,bin}

cp `pwd`/qemu_glibc-data/start_qemu.sh ${PROJECT_ROOT}/bin

cp `pwd`/common-data/crosstool-ng.sh ${PROJECT_ROOT}/build-tools
cp `pwd`/qemu_glibc-data/verify-toolchain.sh ${PROJECT_ROOT}/build-tools
cp `pwd`/qemu_glibc-data/crosstool-ng.config ${PROJECT_ROOT}/build-tools/data
cp `pwd`/common-data/hello.c ${PROJECT_ROOT}/build-tools/data
cp `pwd`/common-data/Makefile ${PROJECT_ROOT}/build-tools/data

cp `pwd`/common-data/u-boot.sh ${PROJECT_ROOT}/bootloader
cp `pwd`/qemu_glibc-data/u-boot.config ${PROJECT_ROOT}/bootloader/data

cp `pwd`/common-data/kernel.sh ${PROJECT_ROOT}/kernel
cp `pwd`/qemu_glibc-data/linux.config ${PROJECT_ROOT}/kernel/data

cat > ./dev_qemu_glibc << "EOF"
export PROJECT=dev_qemu_glibc_labs
export PROJECT_ROOT=`pwd`/${PROJECT}
export ARCH=arm
export TARGET=arm-unknown-linux-gnueabihf
export CROSS_COMPILE=${TARGET}-
export PREFIX=${PROJECT_ROOT}/tools
export TARGET_PREFIX=${PREFIX}/${TARGET}
export PATH=${TARGET_PREFIX}/bin:${PROJECT_ROOT}/bin:${PATH}
export KERNEL_IMAGE=zImage
export KERNEL_PATH=${PROJECT_ROOT}/kernel/linux-stable/arch/${ARCH}/boot
export DTB_IMAGE=vexpress-v2p-ca9.dtb
export DTB_PATH=${KERNEL_PATH}/dts
export UBOOT_IMG=u-boot
export UBOOT_PATH=${PROJECT_ROOT}/bootloader/u-boot
cd ${PROJECT_ROOT}
EOF
